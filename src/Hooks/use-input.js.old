import { useState } from "react";

const UseInput = (validateValue) => {
  const [enteredValue, setEnteredValue] = useState("");
  const [isTouched, setIsTouched] = useState(false);

  const valueIsValid = validateValue(enteredValue);
  const hasError = !valueIsValid && isTouched;

  const valueChangeHandler = (event) => {
    setEnteredValue(event.target.value);
  };

  const inputBlurHandler = (event) => {
    setIsTouched(true);
  };

  const reset = () => {
      setEnteredValue("")
      setIsTouched(false)
  }

  return {
    value: enteredValue,
    isValid: valueIsValid,
    hasError,
    valueChangeHandler,
    inputBlurHandler,
    reset
  };
};

export default UseInput;

// const UseForm = () => {
//   const [enteredName, setEnteredName] = useState("");
//   const [enteredNameTouched, setEnteredNameTouched] = useState(false);
//   const [enteredEmail, setEnteredEmail] = useState("");
// const [enteredEmailTouched, setEnteredEmailTouched] = useState(false)

//   const enteredNameIsValid = enteredName.trim() !== "";
//   const nameInputIsInvalid = !enteredNameIsValid && enteredNameTouched;
//     const enteredEmailIsValid = enteredEmail.trim() !== "";
//     const emailInputIsInvalid = !enteredEmailIsValid && enteredEmailTouched;

//   let formIsValid = false;

//   if (enteredNameIsValid) {
//     formIsValid = true;
//   }

//   const emailInputChangeHandler = (event) => {
//       setEnteredEmail(event.target.value)
//   }

//   const nameInputChangeHandler = (event) => {
//     setEnteredName(event.target.value);
//   };

//   const nameInputBlurHandler = (event) => {
//     setEnteredNameTouched(true);
//   };

//   const formSubmissionHandler = (event) => {
//     event.preventDefault();

//     setEnteredNameTouched(true);
//     setEnteredEmailTouched(true)

//     if (!enteredNameIsValid && ) {
//       return;
//     }

//     console.log(enteredName);

//     setEnteredName("");
//     setEnteredNameTouched(false);
//   };
//   return {

//   }
// };

// export default UseForm;
